<!DOCTYPE html>
<html>
<head>
    <title>Azure Monitor Demo</title>
    <meta charset="utf-8" />
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #0078d4; }
        .endpoint { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #0078d4; }
        .btn { background: #0078d4; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; display: inline-block; margin: 5px; }
        .btn:hover { background: #106ebe; }
        .status { padding: 10px; margin: 10px 0; border-radius: 4px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸš€ Azure Monitor Demo Application</h1>
        
        <div class="status success">
            âœ… Application is running successfully!
        </div>
        
        <h2>ðŸ“Š Available Demo Endpoints</h2>
        
        <div class="endpoint">
            <h3>Health Check</h3>
            <p>Basic health endpoint for monitoring</p>
            <a href="/api/health" class="btn">Test Health API</a>
        </div>
        
        <div class="endpoint">
            <h3>Products API</h3>
            <p>Sample API that generates database metrics</p>
            <a href="/api/products" class="btn">Test Products API</a>
        </div>
        
        <div class="endpoint">
            <h3>Simulate Errors</h3>
            <p>Generates controlled errors (30% chance) for alerting demo</p>
            <a href="/api/simulate-error" class="btn">Test Error Simulation</a>
        </div>
        
        <div class="endpoint">
            <h3>Load Test</h3>
            <p>Simulates high CPU usage for performance metrics</p>
            <a href="/api/load-test" class="btn">Test Load Generation</a>
        </div>
        
        <div class="endpoint">
            <h3>Memory Test</h3>
            <p>Simulates memory allocation for resource monitoring</p>
            <a href="/api/memory-test" class="btn">Test Memory Usage</a>
        </div>
        
        <h2>ðŸŽ¯ Demo Instructions</h2>
        <div class="status info">
            <strong>1.</strong> Open Azure Portal â†’ Resource Group: demo-monitor-rg<br>
            <strong>2.</strong> Navigate to Application Insights resource<br>
            <strong>3.</strong> Click "Live Metrics" to see real-time data<br>
            <strong>4.</strong> Use the buttons above to generate traffic<br>
            <strong>5.</strong> Watch metrics appear in Application Insights!
        </div>
        
        <h2>ðŸ“ˆ Azure Resources</h2>
        <ul>
            <li>âœ… Application Insights (Real-time monitoring)</li>
            <li>âœ… Log Analytics Workspace (Centralized logging)</li>
            <li>âœ… Azure SQL Database (Dependency tracking)</li>
            <li>âœ… Pre-configured Alerts (Response time, errors, CPU)</li>
            <li>âœ… Azure Functions (Load generation)</li>
        </ul>
        
        <div class="status success">
            ðŸŽ‰ <strong>Ready for demo!</strong> All Azure Monitor capabilities are available.
        </div>
    </div>
    
    <script>
        // Simple JavaScript to make the page more interactive
        function testEndpoint(url) {
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    alert('Request sent! Check Application Insights for metrics.');
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Request completed (may have errored intentionally). Check Application Insights!');
                });
        }
        
        // Track page views for Application Insights
        if (typeof appInsights !== 'undefined') {
            appInsights.trackPageView();
        }
    </script>
</body>
</html>
